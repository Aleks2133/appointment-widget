<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Book Online</title>
  <style>
    .appointment-widget { max-width: 350px; margin: auto; font-family: sans-serif; }
    .appointment-widget input,
    .appointment-widget select,
    .appointment-widget button {
      width: 100%; margin: .5em 0; padding: .5em; box-sizing: border-box;
    }
  </style>
</head>
<body>
  <div class="appointment-widget">
    <form
      id="appointmentForm"
      method="POST"
      action="https://aleks213.app.n8n.cloud/webhook-test/d137f819-ab72-4e99-b564-b675efd01af9"
    >
      <!-- ukryte pole na businessId -->
      <input type="hidden" name="businessId" value="">
      
      <input name="firstName" placeholder="Imię" required>
      <input name="lastName" placeholder="Nazwisko" required>
      <input name="phone" placeholder="Telefon (SMS)" required>
      <input name="email" placeholder="E-mail (opcjonalnie)">
      <input name="appointment" type="datetime-local" required>
      <select name="service">
        <option value="Strzyżenie">Strzyżenie</option>
        <option value="Koloryzacja">Koloryzacja</option>
      </select>
      <button type="submit">Umów wizytę</button>
      <p id="status" style="color: green;"></p>
    </form>
  </div>

  <script>
    // Wypełniamy ukryte pole businessId z query string
    const params = new URLSearchParams(location.search);
    const biz = params.get('businessId') || '';
    document.querySelector('input[name="businessId"]').value = biz;

    // Pokazujemy komunikat po submit
    const form = document.getElementById('appointmentForm');
    const status = document.getElementById('status');
    form.addEventListener('submit', () => {
      status.textContent = 'Wysyłanie…';
    });
  </script>
</body>
</html>
